<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login / Register</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        .back-btn { position: absolute; top: 20px; left: 20px; color: white; text-decoration: none; font-size: 18px; background: rgba(0,0,0,0.6); padding: 8px 15px; border-radius: 5px; z-index: 99; }
        .strength-meter { height: 4px; width: 100%; background: #ddd; margin-top: 5px; border-radius: 2px; }
        .strength-fill { height: 100%; width: 0; transition: width 0.3s, background 0.3s; }
        .strength-msg { font-size: 12px; margin-top: 2px; display: block; color: #fff; }
    </style>
</head>
<body>

    <a href="{{ url_for('home') }}" class="back-btn">&#8592; Back to Home</a>

    <video autoplay muted loop playsinline class="video-background">
        <source src="{{ url_for('static', filename='videos/login_video.mp4') }}" type="video/mp4">
    </video>
    <div class="video-overlay"></div>

    <div class="auth-container">
        
        

        <form id="login-form" class="auth-form">
            <h2>Login</h2>
            <div class="form-group"><label>Email</label><input type="email" id="login-email" required placeholder="Authorized Email"></div>
            <div class="form-group password-group"><label>Password <span class="password-toggle-icon">üëÅÔ∏è</span></label><input type="password" id="login-password" required></div>
            <button type="submit" class="btn">Login</button>
            <p class="toggle-link"><a href="#" id="show-forgot">Forgot Password?</a></p>
            <p class="toggle-link">Need an account? <a href="#" id="show-register">Register</a></p>
        </form>

        <form id="register-form" class="auth-form" style="display: none;">
            <h2>Register</h2>
            <div class="form-group"><input type="text" id="reg-first-name" placeholder="First Name" required></div>
            <div class="form-group"><input type="text" id="reg-last-name" placeholder="Last Name" required></div>
            <div class="form-group"><input type="email" id="reg-email" placeholder="Email" required><span class="error-message" id="email-error"></span></div>
            <div class="form-group password-group">
                <label>Password <span class="password-toggle-icon">üëÅÔ∏è</span></label>
                <input type="password" id="reg-password" required>
                <div class="strength-meter"><div class="strength-fill" id="strength-bar"></div></div>
                <span class="strength-msg" id="strength-msg"></span>
            </div>
            <div class="form-group password-group"><input type="password" id="reg-confirm-password" placeholder="Confirm Password" required></div>
            <button type="submit" class="btn">Register</button>
            <p class="toggle-link">Have an account? <a href="#" id="show-login">Login</a></p>
        </form>

        <form id="otp-form" class="auth-form" style="display: none;">
            <h2>Enter OTP</h2>
            <p style="text-align: center; color: #ccc;">Code sent to your email.</p>
            <div class="form-group"><input type="text" id="otp-input" placeholder="6-Digit Code" style="text-align: center; letter-spacing: 5px;"></div>
            <button type="submit" class="btn">Verify</button>
            <p class="toggle-link"><a href="#" id="cancel-otp">Cancel</a></p>
        </form>

        <form id="forgot-form" class="auth-form" style="display: none;">
            <h2>Reset Password</h2>
            <div class="form-group"><label>Enter Email</label><input type="email" id="forgot-email" required></div>
            <div id="reset-inputs" style="display:none;">
                <div class="form-group"><input type="text" id="reset-otp" placeholder="Enter OTP"></div>
                <div class="form-group"><input type="password" id="new-password" placeholder="New Password"></div>
                <button type="button" id="confirm-reset-btn" class="btn">Update Password</button>
            </div>
            <button type="submit" id="send-reset-btn" class="btn">Send OTP</button>
            <p class="toggle-link"><a href="#" id="cancel-forgot">Back to Login</a></p>
        </form>

    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>